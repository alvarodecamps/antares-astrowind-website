---
import Layout from '~/layouts/PageLayout.astro';
import Hero from '~/components/widgets/Hero.astro';
import Stats from '~/components/widgets/Stats.astro';
import Features2 from '~/components/widgets/Features2.astro';
import Features from '~/components/widgets/Features.astro';
import BlogLatestPosts from '~/components/widgets/BlogLatestPosts.astro';
import Brands from '~/components/widgets/Brands.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import heroBg from '~/assets/images/hero-bg.jpg';
import PictureOptimized from '~/components/common/PictureOptimized.astro';
import { portfolioLogos } from '~/data/portfolio';

const metadata = {
  title: 'Antares Equity Partners: Capital privado dominicano',
  description: "Antares Equity Partners: Capital privado dominicano para empresas con >US$5M en ventas. Transición de legado o alianza de crecimiento. 33% TIR del fondo.",
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <!-- Hero Section -->
  <Hero
    class="min-h-screen"
    actions={[
      { variant: 'primary', text: 'Iniciar conversación 100% confidencial', href: '/contacto', 'data-gtag-event': 'hero_contacto' },
      { variant: 'outline', text: 'Explorar soluciones', href: '/soluciones', 'data-gtag-event': 'hero_soluciones' },
    ]}
  >
    <Fragment slot="bg">
      <!-- Optional background video; falls back to image poster -->
      <video class="absolute inset-0 w-full h-full object-cover" autoplay muted loop playsinline preload="none" poster={heroBg.src} style="opacity:0;transition:opacity .6s ease">
        <source src="/videos/hero.webm" type="video/webm" />
        <source src="/videos/hero.mp4" type="video/mp4" />
      </video>
      <script is:inline>
        // Fade in video once it can play
        (function(){
          const v = document.querySelector('video');
          if (!v) return;
          const onReady = () => { v.style.opacity = '1'; };
          v.addEventListener('canplay', onReady, { once: true });
        })();
      </script>
      <PictureOptimized src="~/assets/images/hero-bg.jpg" alt="" aria-hidden="true" class="absolute inset-0 w-full h-full object-cover object-center" />
      <div class="absolute inset-0 bg-gradient-to-b from-black/80 to-transparent"></div>
      <div class="absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-b from-transparent to-[var(--aw-color-bg-page)] pointer-events-none"></div>
    </Fragment>
    <Fragment slot="title">
        El socio estratégico para el futuro de su empresa.
    </Fragment>
    <Fragment slot="subtitle">
        Capital y operación local para crecer o traspasar su legado con orden.
    </Fragment>
  </Hero>

  <!-- Divider -->
  <div class="relative">
    <div class="h-px w-full max-w-7xl mx-auto bg-gradient-to-r from-transparent via-gray-200/60 to-transparent"></div>
  </div>

  <!-- Metrics Section -->
  <Stats
    stats={[
      { amount: '<span data-counter="4">0</span>+', title: 'Empresas en portafolio' },
      { amount: '<span data-counter="33" data-format="percent">0</span>', title: 'TIR anual del fondo' },
      { amount: '<span data-counter="2">0</span> / año', title: 'Nuevas alianzas' },
    ]}
    footNote="*Métricas consolidadas del fondo"
  />

  <!-- Soluciones Destacadas Section -->
  <Features2
    title="Soluciones a su medida"
    subtitle="Dos estructuras principales, diseñadas según sus objetivos y el futuro de su empresa."
    columns={2}
    items={[
      {
        title: 'Transición de Legado',
        description: 'Venta total con plan de traspaso respetuoso y continuidad del equipo.',
        icon: 'tabler:transfer-in',
        href: '/soluciones#transicion-legado',
      },
      {
        title: 'Alianza de Crecimiento',
        description: 'Venta parcial o mayoritaria para inyectar capital, sumar experiencia y acelerar.',
        icon: 'tabler:trending-up',
        href: '/soluciones#alianza-crecimiento'
      },
    ]}
  />

  <!-- Principios Section -->
  <Features
    title="Nuestros Principios"
    columns={4}
    items={[
      {
        title: 'Transición respetuosa',
        description: 'Protegemos a su gente y la operación.',
        icon: 'tabler:users',
      },
      {
        title: 'Crecimiento a largo plazo',
        description: 'Sin atajos. Disciplina operativa y financiera.',
        icon: 'tabler:chart-line',
      },
      {
        title: 'Protección de su legado' ,
        description: 'Cultura y reputación primero.' ,
        icon: 'tabler:shield-lock' ,
      },
      {
        title: 'Alianzas a su medida' ,
        description: 'Estructuras flexibles: minoría, mayoría o 100%.' ,
        icon: 'tabler:arrows-shuffle' ,
      },
    ]}
  />
  
  <!-- Perspectivas teaser -->
  <BlogLatestPosts
    title="Perspectivas"
    linkText="Ver todas las notas"
    count={3}
    classes={{ container: 'max-w-6xl mx-auto' }}
  />
  
  <!-- Portafolio Preview Section -->
  <Brands
    title="Empresas del Portafolio"
    subtitle='"Adevinta anuncia la venta de Corotos a emprendedores locales" — Prensa oficial'
  >
    <div class="flex flex-wrap justify-center gap-8">
      {portfolioLogos.map((l) => (
        <img src={l.src} alt={l.alt} class="h-12 w-auto object-contain opacity-90 hover:opacity-100 transition-opacity" />
      ))}
    </div>
  </Brands>

  <CallToAction
    actions={[
        {
            variant: 'primary',
            text: 'Ver portafolio completo',
            href: '/portafolio',
        },
    ]}
  />

</Layout>

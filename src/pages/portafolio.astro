---
import Layout from '~/layouts/PageLayout.astro';
import { SEO as AstroSeo } from 'astro-seo';
import Brands from '~/components/widgets/Brands.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import HeroText from '~/components/widgets/HeroText.astro';
import PictureOptimized from '~/components/common/PictureOptimized.astro';
import headerPortafolio from '~/assets/images/header-portafolio.jpg';
import { portfolioLogos, portfolioCases, portfolioCaseStudies } from '~/data/portfolio';
import SectionDivider from '~/components/ui/SectionDivider.astro';
---

<Layout>
  <AstroSeo
    title="Empresas del Portafolio"
    description="Portafolio Antares: Corotos, 7Labs, SAM Latinoamérica, Almomento.net. Empresas dominicanas líderes con ejecución disciplinada."
  />
  <HeroText
    tagline="Portafolio"
    title="Empresas excepcionales, ejecución disciplinada"
    subtitle="Casos reales de crecimiento sostenido"
  >
    <Fragment slot="bg">
      <PictureOptimized src="~/assets/images/header-portafolio.jpg" alt="" aria-hidden="true" class="absolute inset-0 w-full h-full object-cover object-center" />
      <div class="absolute inset-0 bg-gradient-to-b from-black/80 to-transparent"></div>
      <div class="absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-b from-transparent to-[var(--aw-color-bg-page)] pointer-events-none"></div>
    </Fragment>
  </HeroText>
  <SectionDivider />
  <main class="container mx-auto py-16 px-4">
    <div class="max-w-6xl mx-auto">
      <h2 class="text-center text-2xl font-heading font-semibold mb-8">Empresas del Portafolio</h2>
      <div class="grid grid-cols-2 sm:grid-cols-4 gap-8 items-center justify-items-center">
        {portfolioLogos.map((l) => (
          <img src={l.src} alt={l.alt} class="h-12 w-auto object-contain opacity-90 hover:opacity-100 transition-opacity mix-blend-multiply" loading="lazy" />
        ))}
      </div>
    </div>

    <div class="max-w-6xl mx-auto mt-12">
      <h3 class="text-xl font-heading font-semibold mb-4 text-center">Casos destacados</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        {portfolioCaseStudies.map((cs) => (
          <article class="rounded-lg border border-gray-200 p-5 bg-white shadow-sm transform transition hover:-translate-y-0.5 hover:shadow-lg">
            <h4 class="font-semibold text-lg mb-1">{cs.name}</h4>
            {cs.subtitle && <p class="text-sm text-muted mb-2">{cs.subtitle}</p>}
            <ul class="list-disc pl-5 text-sm text-default space-y-1 mb-2">
              <li><strong>Situación:</strong> {cs.situation}</li>
              <li><strong>Tesis:</strong> {cs.thesis}</li>
            </ul>
            <div class="mb-2">
              <p class="text-sm font-semibold mb-1">Acciones clave</p>
              <ul class="list-disc pl-5 text-sm text-muted">
                {cs.actions.map((a) => (
                  <li>{a}</li>
                ))}
              </ul>
            </div>
            <div class="mb-2">
              <p class="text-sm font-semibold mb-1">Indicadores</p>
              <ul class="list-disc pl-5 text-sm text-muted">
                {cs.kpis.map((k) => (
                  <li>{k}</li>
                ))}
              </ul>
            </div>
            <p class="text-sm text-default"><strong>Resultado:</strong> {cs.result}</p>
          </article>
        ))}
      </div>
      <p class="text-xs text-center text-muted mt-3">Detalles ampliados disponibles bajo NDA.</p>
    </div>
    <CallToAction
        actions={[
            {
                variant: 'primary',
                text: 'Solicitar caso de estudio',
                href: '/contacto?asunto=caso-estudio',
            },
        ]}
    />
  </main>
</Layout>
